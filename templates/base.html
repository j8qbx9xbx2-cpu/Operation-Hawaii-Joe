<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{{ title or "Operation Hawaii" }}</title>
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#020617" />
  <link rel="apple-touch-icon" href="/static/icon-192.png" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('/sw.js'));
    }
  </script>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-slate-950 text-slate-100">
  <body class="bg-slate-950 text-slate-100">

  <!-- ðŸŒ´ HAWAII LOADING SCREEN START -->
  <div id="hawaii-loader" style="position:fixed; inset:0; z-index:9999; display:flex; align-items:center; justify-content:center;">
    <div style="position:absolute; inset:0; background:#020617;"></div>
    <div style="position:absolute; inset:0; background:url('{{ url_for('static', filename='images/hero.jpg') }}') center/cover no-repeat; opacity:.35;"></div>
    <div style="position:absolute; inset:0; background:linear-gradient(90deg, rgba(2,6,23,.95), rgba(2,6,23,.45), rgba(2,6,23,.95));"></div>

    <div style="position:relative; text-align:center; padding:24px; max-width:520px;">
      <div style="font-size:28px; font-weight:800; letter-spacing:.5px;">Operation Hawaii</div>
      <div style="margin-top:8px; font-size:14px; opacity:.85;">Warming up the island ðŸŒ´</div>
      <div style="margin-top:4px; font-size:14px; opacity:.85;">
        If itâ€™s been a while, first load may take ~30 seconds.
      </div>
      <div style="margin-top:18px; height:6px; width:220px; border-radius:999px; background:rgba(255,255,255,.15); overflow:hidden; margin-left:auto; margin-right:auto;">
        <div style="height:100%; width:55%; background:rgba(16,185,129,.85); animation: hawaiiBar 1.2s ease-in-out infinite;"></div>
      </div>
    </div>
  </div>

  <style>
    @keyframes hawaiiBar {
      0% { transform: translateX(-60%); }
      50% { transform: translateX(60%); }
      100% { transform: translateX(-60%); }
    }
  </style>

  <script>
    window.addEventListener("load", function() {
      const el = document.getElementById("hawaii-loader");
      if (!el) return;
      el.style.transition = "opacity .25s ease";
      el.style.opacity = "0";
      setTimeout(() => el.remove(), 250);
    });
  </script>
  <!-- ðŸŒ´ HAWAII LOADING SCREEN END -->

  <div class="max-w-5xl mx-auto px-4 py-6">

  <div class="max-w-5xl mx-auto px-4 py-6">
    <div class="flex items-center justify-between gap-3">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-gradient-to-br from-cyan-400 to-indigo-500"></div>
        <div>
          <div class="text-xl font-semibold tracking-tight">Operation Hawaii</div>
          <div class="text-sm text-slate-400">IF window: <span class="font-medium text-slate-200">11:00 am â€“ 7:00 pm</span></div>
        </div>
      </div>
      <div class="md:hidden w-full">
        <select class="w-full px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm"
                onchange="if(this.value){window.location.href=this.value;}">
          <option value="">Navigateâ€¦</option>
          <option value="{{ url_for('dashboard') }}">Dashboard</option>
          <option value="{{ url_for('workouts') }}">Workouts</option>
          <option value="{{ url_for('meal_suggestions') }}">Meals</option>
          <option value="{{ url_for('saved_meals') }}">Saved</option>
          <option value="{{ url_for('guides') }}">Guides</option>
          <option value="{{ url_for('weekly') }}">Weekly</option>
          <option value="{{ url_for('settings') }}">Settings</option>
          <option value="{{ url_for('reset_page') }}">Emergency Reset</option>
          <option value="{{ url_for('export_csv') }}">Export CSV</option>
        </select>
      </div>
      <div class="hidden md:flex gap-2">
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('dashboard') }}">Dashboard</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('workouts') }}">Workouts</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('meal_suggestions') }}">Meals</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('saved_meals') }}">Saved</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('guides') }}">Guides</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('weekly') }}">Weekly</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('settings') }}">Settings</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('reset_page') }}">Emergency Reset</a>
        <a class="px-3 py-2 rounded-xl bg-slate-800 hover:bg-slate-700 text-sm" href="{{ url_for('export_csv') }}">Export CSV</a>
      </div>
    </div>

    {% block content %}{% endblock %}

    <div class="mt-10 text-xs text-slate-500">
      Single-user app (no login). Cloud hosting friendly.
    </div>
  </div>
</body>
</html>
