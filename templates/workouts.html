{% extends "base.html" %}
{% block content %}

<div class="max-w-3xl mx-auto space-y-4">

  <div class="relative overflow-hidden rounded-3xl border border-slate-800 bg-slate-950 p-5">
    <img src="{{ url_for('static', filename='images/hero.jpg') }}"
         class="absolute inset-0 h-full w-full object-cover opacity-25" alt="Hawaii" />
    <div class="absolute inset-0 bg-gradient-to-r from-slate-950/95 via-slate-950/50 to-slate-950/95"></div>

    <div class="relative">
      <div class="text-xl font-semibold">Workouts</div>
      <div class="text-sm text-slate-300">Log Mirror, dumbbells, mobility, core — low-impact friendly.</div>
      <div class="mt-2 text-sm text-slate-300"><span class="font-medium">Today:</span> {{ total_minutes }} min • {{ total_calories }} cal</div>
    </div>
  </div>

  <details open class="rounded-2xl border border-slate-800 bg-slate-950 p-4">
    <summary class="cursor-pointer select-none font-medium">Add a workout</summary>
    <form method="post" class="mt-3 grid grid-cols-1 md:grid-cols-4 gap-3">
      <div class="md:col-span-2">
        <label class="text-xs text-slate-300">Type</label>
        <input name="workout_type" placeholder="Upper DB, Mirror Strength, Mobility, Core…"
               class="w-full mt-1 px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm" required>
      </div>
      <div>
        <label class="text-xs text-slate-300">Minutes</label>
        <input name="minutes" type="number" min="0" step="1"
               class="w-full mt-1 px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm" value="20">
      </div>
      <div>
        <label class="text-xs text-slate-300">Calories</label>
        <input name="calories" type="number" min="0" step="1"
               class="w-full mt-1 px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm" value="0">
      </div>
      <div class="md:col-span-4">
        <label class="text-xs text-slate-300">Notes (optional)</label>
        <input name="notes" placeholder="RPE, knee status, modifications…"
               class="w-full mt-1 px-3 py-2 rounded-xl bg-slate-900 border border-slate-800 text-sm">
      </div>
      <div class="md:col-span-4">
        <button class="px-4 py-2 rounded-xl bg-emerald-600 hover:bg-emerald-500 font-medium text-sm">
          Add workout
        </button>
      </div>
    </form>
  </details>

  <details open class="rounded-2xl border border-slate-800 bg-slate-950 p-4">
    <summary class="cursor-pointer select-none font-medium">Today’s workouts</summary>

    <div class="mt-3 space-y-2">
      {% if items %}
        {% for w in items %}
          <div class="rounded-xl border border-slate-800 bg-slate-900/60 p-3">
            <div class="flex justify-between gap-3">
              <div class="font-medium">{{ w.workout_type }}</div>
              <div class="text-sm text-slate-300">{{ w.minutes }} min • {{ w.calories }} cal</div>
            </div>
            {% if w.notes %}
              <div class="mt-1 text-sm text-slate-300">{{ w.notes }}</div>
            {% endif %}
          </div>
        {% endfor %}
      {% else %}
        <div class="text-sm text-slate-300">No workouts logged yet today.</div>
      {% endif %}
    </div>
  </details>

</div>

{% endblock %}
